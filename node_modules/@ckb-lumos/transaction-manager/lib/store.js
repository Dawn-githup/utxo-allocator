"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createInMemoryStorage = createInMemoryStorage;
/**
 * key-value storage
 */
// eslint-disable-next-line @typescript-eslint/no-explicit-any

function createInMemoryStorage() {
  const store = new Map();
  return {
    getItem(key) {
      const value = store.get(key);
      if (!value) return value;
      // deep clone to avoid the value being modified by the caller
      return JSON.parse(JSON.stringify(value));
    },
    hasItem(key) {
      return store.has(key);
    },
    removeItem(key) {
      store.delete(key);
    },
    setItem(key, value) {
      store.set(key, value);
    }
  };
}
//# sourceMappingURL=store.js.map