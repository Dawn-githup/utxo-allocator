"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.scriptHelper = void 0;
var _base = require("@ckb-lumos/base");
var _configManager = require("@ckb-lumos/config-manager");
var _ = require("../");
var _base2 = require("./base");
function autoParseAddress(address) {
  if (address.startsWith("ckb")) {
    return (0, _.parseAddress)(address, {
      config: _configManager.predefined.LINA
    });
  } else if (address.startsWith("ckt")) {
    return (0, _.parseAddress)(address, {
      config: _configManager.predefined.AGGRON4
    });
  }
  throw new Error(`The address prefix ${address} is unknown`);
}
const scriptHelper = exports.scriptHelper = (0, _base2.createModelHelper)({
  pack: val => _base.blockchain.Script.pack(typeof val === "string" ? autoParseAddress(val) : val),
  unpack: val => _base.blockchain.Script.unpack(val)
});
//# sourceMappingURL=script.js.map