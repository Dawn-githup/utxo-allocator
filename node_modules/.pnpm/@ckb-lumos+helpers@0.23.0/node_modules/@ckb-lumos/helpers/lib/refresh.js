"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.refreshTypeIdCellDeps = refreshTypeIdCellDeps;
/**
 * Refresh cellDeps of txSkeleton
 * @example
 * const resolve = createRpcResolver(rpc)
 * // refresh the cell deps
 * let txSkeleton = await refreshTypeIdCellDeps(txSkeleton,  { resolve })
 * @param txSkeleton
 * @param resolve
 */
async function refreshTypeIdCellDeps(txSkeleton, {
  resolve
}) {
  const outPoints = txSkeleton.cellDeps.map(({
    outPoint
  }) => outPoint).toArray();
  const latestOutPoints = await resolve(outPoints);
  return txSkeleton.update("cellDeps", cellDeps => cellDeps.map((cellDep, i) => ({
    ...cellDep,
    outPoint: latestOutPoints[i]
  })));
}
//# sourceMappingURL=refresh.js.map