"use strict";var o=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var T=(n,e)=>{for(var r in e)o(n,r,{get:e[r],enumerable:!0})},u=(n,e,r,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of h(e))!g.call(n,s)&&s!==r&&o(n,s,{get:()=>e[s],enumerable:!(t=y(e,s))||t.enumerable});return n};var w=n=>u(o({},"__esModule",{value:!0}),n);var f={};T(f,{default:()=>c,parseMessage:()=>c});module.exports=w(f);var m=(n,e)=>{e:for(let r=0;r<=n.length-e.length;r++){for(let t=0;t<e.length;t++)if(n[r+t]!==e[t])continue e;return r}return-1},d=m;var l=new TextDecoder,M=new TextEncoder,a=M.encode(`\r
`),A=[9,32],I=n=>{let e=0,r=[];for(;(e=d(n,a))!==-1&&e!==0;){let s=n.indexOf(58);if(s===-1)throw new Error("Invalid header");let p=l.decode(n.subarray(0,s));for(;A.includes(n[e+2]);){let i=d(n.subarray(e+2),a);if(i<1)break;e+=2+i}let x=l.decode(n.subarray(s+1,e)).replace(/\r\n/g,"");r.push([p,x]),n=n.subarray(e+a.length)}let t=new Headers(r);return t.has("content-transfer-encoding")||t.set("content-transfer-encoding","7bit"),t.has("content-type")||t.set("content-type","text/plain; charset=us-ascii"),{headers:t,body:e===-1?null:n.subarray(e+a.length)}},c=I;0&&(module.exports={parseMessage});
